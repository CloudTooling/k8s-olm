{
    "$schema": "https://docs.renovatebot.com/renovate-schema.json",
    "labels": ["dependencies"],
    "extends": ["config:base", ":dependencyDashboard"],
    "automergeSchedule": ["after 5am and before 5pm every weekday"],
    "separateMinorPatch": true,
    "regexManagers": [
      {
        "description": "Update _VERSION variables in shell scripts and YAML files",
        "fileMatch": [
          "\\.sh$",
          "\\.yaml$"
        ],
        "matchStrings": [
          "# renovate: datasource=(?<datasource>[a-z-]+?) depName=(?<depName>.+?)(?: (?:packageName|lookupName)=(?<packageName>.+?))?(?: versioning=(?<versioning>[a-z-]+?))?\\s.+?_VERSION=(?<currentValue>.+?)\\s"
        ],
        "versioningTemplate": "{{#if versioning}}{{versioning}}{{else}}semver{{/if}}"
      }
    ],
    "packageRules": [
      {
        "matchDatasources": ["docker"],
        "matchUpdateTypes": ["patch"],
        "automerge": true,
        "automergeType": "pr",
        "platformAutomerge": true
      }
    ]
  }
